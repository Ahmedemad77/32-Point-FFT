
`timescale 1ns / 1ps
//FFT Configration 


`include "uvm_macros.svh"
import uvm_pkg::*;
`include "FFT_Configrations.svh"
`include "FFT_Env.sv"




class FFT_Test extends uvm_test;
    `uvm_component_utils(FFT_Test);
    FFT_Env env;
    function  new(string name ="FFT_Test",uvm_component parent =null);
        super.new(name,parent);
    endfunction

    function void build_phase(uvm_phase phase);
        super.build_phase(phase);
        env = FFT_Env::type_id::create("env",this);
    endfunction

    task run_phase(uvm_phase phase);
        super.run_phase(phase);
        
        phase.raise_objection(this);
        
        phase.drop_objection(this);
    endtask
endclass




module FFT_Test;
    
logic clk; 
logic reset;


//Instaniate Interface 
FFT_Dut_Interface#(32,8)Intf(clk,reset);

virtual FFT_Dut_Interface vinf ;
//Instaniate the DUT 
FFT_32  #( .DATA_WIDTH(32),.INTEGER(16),.FRACTION(16) ) UUT (
    .clk(clk),
    .reset(reset),
    .PU_enable(Intf.PU_enable),
    .ADC_in0_real(Intf.ADC_in0_real),
    .ADC_in1_real(Intf.ADC_in1_real),
    .ADC_in2_real(Intf.ADC_in2_real),
    .ADC_in3_real(Intf.ADC_in3_real),
    .ADC_in4_real(Intf.ADC_in4_real),
    .ADC_in5_real(Intf.ADC_in5_real),
    .ADC_in6_real(Intf.ADC_in6_real),
    .ADC_in7_real(Intf.ADC_in7_real),
    .ADC_in8_real(Intf.ADC_in8_real),
    .ADC_in9_real(Intf.ADC_in9_real),
    .ADC_in10_real(Intf.ADC_in10_real),
    .ADC_in11_real(Intf.ADC_in11_real),
    .ADC_in12_real(Intf.ADC_in12_real),
    .ADC_in13_real(Intf.ADC_in13_real),
    .ADC_in14_real(Intf.ADC_in14_real),
    .ADC_in15_real(Intf.ADC_in15_real),
    .ADC_in16_real(Intf.ADC_in16_real),
    .ADC_in17_real(Intf.ADC_in17_real),
    .ADC_in18_real(Intf.ADC_in18_real),
    .ADC_in19_real(Intf.ADC_in19_real),
    .ADC_in20_real(Intf.ADC_in20_real),
    .ADC_in21_real(Intf.ADC_in21_real),
    .ADC_in22_real(Intf.ADC_in22_real),
    .ADC_in23_real(Intf.ADC_in23_real),
    .ADC_in24_real(Intf.ADC_in24_real),
    .ADC_in25_real(Intf.ADC_in25_real),
    .ADC_in26_real(Intf.ADC_in26_real),
    .ADC_in27_real(Intf.ADC_in27_real),
    .ADC_in28_real(Intf.ADC_in28_real),
    .ADC_in29_real(Intf.ADC_in29_real),
    .ADC_in30_real(Intf.ADC_in30_real),
    .ADC_in31_real(Intf.ADC_in31_real),
    .FFT_RESULT_0_real(Intf.FFT_RESULT_0_real),
    .FFT_RESULT_0_imag(Intf.FFT_RESULT_0_imag),
    .FFT_RESULT_1_real(Intf.FFT_RESULT_1_real),
    .FFT_RESULT_1_imag(Intf.FFT_RESULT_1_imag),
    .FFT_RESULT_2_real(Intf.FFT_RESULT_2_real),
    .FFT_RESULT_2_imag(Intf.FFT_RESULT_2_imag),
    .FFT_RESULT_3_real(Intf.FFT_RESULT_3_real),
    .FFT_RESULT_3_imag(Intf.FFT_RESULT_3_imag),
    .FFT_RESULT_4_real(Intf.FFT_RESULT_4_real),
    .FFT_RESULT_4_imag(Intf.FFT_RESULT_4_imag),
    .FFT_RESULT_5_real(Intf.FFT_RESULT_5_real),
    .FFT_RESULT_5_imag(Intf.FFT_RESULT_5_imag),
    .FFT_RESULT_6_real(Intf.FFT_RESULT_6_real),
    .FFT_RESULT_6_imag(Intf.FFT_RESULT_6_imag),
    .FFT_RESULT_7_real(Intf.FFT_RESULT_7_real),
    .FFT_RESULT_7_imag(Intf.FFT_RESULT_7_imag),
    .FFT_RESULT_8_real(Intf.FFT_RESULT_8_real),
    .FFT_RESULT_8_imag(Intf.FFT_RESULT_8_imag),
    .FFT_RESULT_9_real(Intf.FFT_RESULT_9_real),
    .FFT_RESULT_9_imag(Intf.FFT_RESULT_9_imag),
    .FFT_RESULT_10_real(Intf.FFT_RESULT_10_real),
    .FFT_RESULT_10_imag(Intf.FFT_RESULT_10_imag),
    .FFT_RESULT_11_real(Intf.FFT_RESULT_11_real),
    .FFT_RESULT_11_imag(Intf.FFT_RESULT_11_imag),
    .FFT_RESULT_12_real(Intf.FFT_RESULT_12_real),
    .FFT_RESULT_12_imag(Intf.FFT_RESULT_12_imag),
    .FFT_RESULT_13_real(Intf.FFT_RESULT_13_real),
    .FFT_RESULT_13_imag(Intf.FFT_RESULT_13_imag),
    .FFT_RESULT_14_real(Intf.FFT_RESULT_14_real),
    .FFT_RESULT_14_imag(Intf.FFT_RESULT_14_imag),
    .FFT_RESULT_15_real(Intf.FFT_RESULT_15_real),
    .FFT_RESULT_15_imag(Intf.FFT_RESULT_15_imag),
    .FFT_RESULT_16_real(Intf.FFT_RESULT_16_real),
    .FFT_RESULT_16_imag(Intf.FFT_RESULT_16_imag),
    .FFT_RESULT_17_real(Intf.FFT_RESULT_17_real),
    .FFT_RESULT_17_imag(Intf.FFT_RESULT_17_imag),
    .FFT_RESULT_18_real(Intf.FFT_RESULT_18_real),
    .FFT_RESULT_18_imag(Intf.FFT_RESULT_18_imag),
    .FFT_RESULT_19_real(Intf.FFT_RESULT_19_real),
    .FFT_RESULT_19_imag(Intf.FFT_RESULT_19_imag),
    .FFT_RESULT_20_real(Intf.FFT_RESULT_20_real),
    .FFT_RESULT_20_imag(Intf.FFT_RESULT_20_imag),
    .FFT_RESULT_21_real(Intf.FFT_RESULT_21_real),
    .FFT_RESULT_21_imag(Intf.FFT_RESULT_21_imag),
    .FFT_RESULT_22_real(Intf.FFT_RESULT_22_real),
    .FFT_RESULT_22_imag(Intf.FFT_RESULT_22_imag),
    .FFT_RESULT_23_real(Intf.FFT_RESULT_23_real),
    .FFT_RESULT_23_imag(Intf.FFT_RESULT_23_imag),
    .FFT_RESULT_24_real(Intf.FFT_RESULT_24_real),
    .FFT_RESULT_24_imag(Intf.FFT_RESULT_24_imag),
    .FFT_RESULT_25_real(Intf.FFT_RESULT_25_real),
    .FFT_RESULT_25_imag(Intf.FFT_RESULT_25_imag),
    .FFT_RESULT_26_real(Intf.FFT_RESULT_26_real),
    .FFT_RESULT_26_imag(Intf.FFT_RESULT_26_imag),
    .FFT_RESULT_27_real(Intf.FFT_RESULT_27_real),
    .FFT_RESULT_27_imag(Intf.FFT_RESULT_27_imag),
    .FFT_RESULT_28_real(Intf.FFT_RESULT_28_real),
    .FFT_RESULT_28_imag(Intf.FFT_RESULT_28_imag),
    .FFT_RESULT_29_real(Intf.FFT_RESULT_29_real),
    .FFT_RESULT_29_imag(Intf.FFT_RESULT_29_imag),
    .FFT_RESULT_30_real(Intf.FFT_RESULT_30_real),
    .FFT_RESULT_30_imag(Intf.FFT_RESULT_30_imag),
    .FFT_RESULT_31_real(Intf.FFT_RESULT_31_real),
    .FFT_RESULT_31_imag(Intf.FFT_RESULT_31_imag)
);

initial begin
    vinf = Intf;
    //sET THE vIRTUAL interface 
    uvm_config_db#(virtual FFT_Dut_Interface)::set(null,"uvm_test_top.*","FFT_INTERFACE",vinf);
	
    run_test("FFT_Test");
end


initial begin
    clk_task();
end

// Define Reset Task 
task reset_task();
    clk = 1;
    reset = 1'b1;
    #100
    reset = 1'b0;
endtask
// Define Clk Task 
task clk_task();
    forever begin
        #(`CLK_PERIOD/2)
        clk = ~clk;
    end
endtask

endmodule